(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01e9":function(e,t,r){},"039a":function(e,t,r){"use strict";r("7174")},"0854":function(e,t,r){"use strict";r("6374")},1455:function(e,t,r){},"207a":function(e,t,r){"use strict";r("d53e")},"324b":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.sendImage(t)}}},[r("div",{staticClass:"field"},[r("v-file-input",{ref:"imag",attrs:{label:"Image upload",filled:"","prepend-icon":"mdi-camera",type:"file",accept:"image"},on:{change:e.selectFile}}),r("div",{staticClass:"field"},[r("v-btn",{on:{click:function(t){return e.uploadImage(e.selectedFile)}}},[e._v(" Ladda upp bilden ")])],1)],1)])],1)},o=[],a=(r("96cf"),r("1da1")),i={name:"ImageUploader",data:function(){return{selectedFile:null}},methods:{selectFile:function(e){this.selectedFile=e},uploadImage:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("IMAGE/uploadImageToDB",e);case 2:case"end":return r.stop()}}),r)})))()}}},s=i,c=r("2877"),l=r("6544"),u=r.n(l),d=r("8336"),m=r("23a7"),p=r("4bd4"),f=Object(c["a"])(s,n,o,!1,null,null,null);t["a"]=f.exports;u()(f,{VBtn:d["a"],VFileInput:m["a"],VForm:p["a"]})},"4bbb":function(e,t,r){"use strict";r("01e9")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Header"),r("v-main",{staticClass:"py-0"},[r("router-view")],1)],1)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",[r("v-app-bar",{staticStyle:{background:"linear-gradient(to right top, #e8dfe0, #ead3d1, #e9c7be, #e4bea8, #dab692)"},attrs:{app:"",fixed:"",dark:"","elevate-on-scroll":""}},[r("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),r("v-list-item",[r("v-list-item-title",{staticClass:"title"},[r("router-link",{attrs:{to:"/",exact:""}},[e._v(" MYhome ")])],1)],1),r("v-spacer"),r("v-btn",{attrs:{icon:"",color:"secondary"}},[r("v-icon",[e._v("mdi-magnify")])],1),e.loggedIn?e._e():r("v-btn",{attrs:{color:"white",text:"",to:"/signup"}},[r("span",[e._v("Registrera")]),r("v-icon",{attrs:{right:""}})],1),e.loggedIn?r("v-btn",{attrs:{to:"/login",color:"grey",text:""},on:{click:e.logout}},[r("span",[e._v("Logga ut")]),r("v-icon",{attrs:{right:""}})],1):e._e(),e.loggedIn?e._e():r("v-btn",{attrs:{to:"/login",color:"white",text:""}},[r("span",[e._v("Logga in")]),r("v-icon",{attrs:{right:""}})],1)],1),r("v-navigation-drawer",{staticClass:"deep-purple accent-4",staticStyle:{background:"linear-gradient(to right top, #e8dfe0, #ead3d1, #e9c7be, #e4bea8, #dab692)"},attrs:{dark:"",app:""},scopedSlots:e._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2"},[e.loggedIn?r("v-btn",{attrs:{to:"/login",block:"",color:"accent1"},on:{click:e.logout}},[e._v(" Logout ")]):e._e()],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",e._l(e.items,(function(t){return r("v-list-item",{key:t.title,attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("router-link",{attrs:{to:t.link,exact:""}},[r("v-list-item-title",[e._v(e._s(t.title))])],1)],1)],1)})),1)],1)],1)},s=[],c=(r("96cf"),r("1da1")),l={name:"Header",data:function(){return{drawer:!1,items:[{title:"Dashboard",icon:"mdi-view-dashboard",link:"/"},{title:"Mitt Hus",icon:"mdi-home-city",link:"/house"},{title:"Projekt",icon:"mdi-calendar-check-outline",link:"/project"},{title:"Inventarier",icon:"mdi-ballot",link:"/item"},{title:"Mitt konto",icon:"mdi-account-box",link:"/createproject"},{title:"Admin",icon:"mdi-gavel",link:"/createitem"}]}},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("SESSION/logout");case 2:e.$store.state.commit("SESSION/setLoggedIn",!1),localStorage.setItem("loggedIn",JSON.stringify(!1)),e.$router.push({name:"Login"});case 5:case"end":return t.stop()}}),t)})))()}},computed:{loggedIn:function(){return this.$store.getters["SESSION/getLoggedIn"]}}},u=l,d=(r("6073"),r("2877")),m=r("6544"),p=r.n(m),f=r("40dc"),g=r("5bc1"),v=r("8336"),h=r("132d"),I=r("8860"),j=r("da13"),x=r("5d23"),b=r("34c3"),_=r("f774"),R=r("2fa4"),O=Object(d["a"])(u,i,s,!1,null,"30e104a0",null),k=O.exports;p()(O,{VAppBar:f["a"],VAppBarNavIcon:g["a"],VBtn:v["a"],VIcon:h["a"],VList:I["a"],VListItem:j["a"],VListItemContent:x["a"],VListItemIcon:b["a"],VListItemTitle:x["c"],VNavigationDrawer:_["a"],VSpacer:R["a"]});var w={name:"App",components:{Header:k},mounted:function(){this.$store.dispatch("PROJECT/setProjectFromStorage"),this.$store.dispatch("ITEMS/setItemFromStorage"),this.$store.dispatch("FILE/setFiles"),this.$store.dispatch("HOUSE/setHouseFromStorage"),this.$store.dispatch("PROJECT/setProjects"),this.$store.dispatch("HOUSE/setHouses"),this.$store.dispatch("ROOM/setRooms"),this.$store.dispatch("ITEMS/setItems")}},P=w,y=r("7496"),S=r("f6c4"),C=Object(d["a"])(P,o,a,!1,null,null,null),E=C.exports;p()(C,{VApp:y["a"],VMain:S["a"]});var T=r("f309");n["a"].use(T["a"]);var $=new T["a"]({theme:{themes:{light:{base:"#E8DFE0",primary:"#DAB692",secondary:"#8f5b34",accent1:"#8A9EA7",accent2:"#8D9B6A"}}}}),V=$,F=(r("45fc"),r("d3b7"),r("8c4f")),H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"py-16",attrs:{fluid:"","max-width":"300"}},[r("Quick-start"),r("v-row",{staticClass:"justify-center"},[r("v-col",{attrs:{cols:"12",justify:"center"}},[r("Dashboard",{attrs:{"max-width":"300"}})],1),r("v-col",{attrs:{cols:"12",justify:"center"}},[r("ActionCard",{attrs:{"max-width":"300"}})],1)],1)],1)},N=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto pt-2 mt-2",attrs:{"max-width":"900",color:"primary"}},[void 0!==e.project?n("v-card-title",[n("h1",[e._v("Välkommen!")])]):e._e(),void 0!==e.project?n("v-card-title",[n("div",[n("h3",[e._v("Senaste projekt:")]),n("h4",[e._v(" "+e._s(e.project.projectName)+" ")])])]):e._e(),n("v-img",{attrs:{height:"400",src:r("b581")}}),void 0!==e.projects?n("v-expansion-panels",{staticClass:"pb-2",attrs:{color:"primary",popout:""}},[n("h2",[e._v(" Mina aktiva projekt ")]),e._l(e.projects,(function(t){return n("v-expansion-panel",{key:t._id,attrs:{color:"primary",fucosable:""}},[n("v-expansion-panel-header",{attrs:{color:"primary"}},[n("h3",[e._v(" "+e._s(t.projectName)+" ")])]),n("v-expansion-panel-content",{attrs:{color:"primary"}},[n("div",{staticClass:"d-flex justify-space-between mt-2"},[n("div",{staticClass:"d-flex flex-column"},[n("p",[e._v("Projektbeskrivning: "),n("br"),e._v(e._s(t.description))]),t.roomId?n("p",[e._v("Rum: "),n("br"),e._v(" "+e._s(t.roomId.roomName)+" ")]):e._e(),n("p",[e._v("Kategori: "),n("br"),e._v(" "+e._s(t.category))])]),n("v-btn",{staticClass:"align-self-center",attrs:{fab:"",color:"accent2"},on:{click:function(r){return e.goToProjectHandler(t)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-arrow-right")])],1)],1)])],1)}))],2):e._e()],1)},J=[],D={namespaced:!0,name:"Dashboard",data:function(){return{settings:[]}},methods:{goToProjectHandler:function(e){this.$store.dispatch("PROJECT/setProject",e),localStorage.setItem("currentProject",JSON.stringify(e)),this.$router.push("Project")}},computed:{projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return void 0!==this.$store.getters["PROJECT/getProject"]&&0!==this.$store.getters["PROJECT/getProject"].length?this.$store.getters["PROJECT/getProjectFromProjects"](this.$store.getters["PROJECT/getProject"]._id):[]}}},L=D,A=(r("cc64"),r("b0af")),B=r("99d9"),U=r("cd55"),G=r("49e2"),q=r("c865"),z=r("0393"),Q=r("adda"),K=Object(d["a"])(L,M,J,!1,null,"45eaa15b",null),Y=K.exports;p()(K,{VBtn:v["a"],VCard:A["a"],VCardTitle:B["d"],VExpansionPanel:U["a"],VExpansionPanelContent:G["a"],VExpansionPanelHeader:q["a"],VExpansionPanels:z["a"],VIcon:h["a"],VImg:Q["a"]});var W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-0"},[r("v-speed-dial",{attrs:{height:"100vh",fixed:"",bottom:"",absolute:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-btn",{attrs:{fab:"",dark:"","x-large":"",color:"accent2"},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[e.fab?r("v-icon",[e._v(" mdi-close ")]):r("v-icon",[e._v(" mdi-plus ")])],1)]},proxy:!0}]),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[r("v-btn",{attrs:{fab:"",dark:"",medium:"",color:"accent1"}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{fab:"",dark:"",medium:"",color:"primary"}},[r("v-icon",[e._v("mdi-briefcase")])],1),r("v-btn",{attrs:{fab:"",dark:"",medium:"",color:"secondary"},on:{click:function(t){e.dialogOutside=!0}}},[r("v-icon",[e._v("mdi-call-split")])],1)],1),r("v-dialog",{attrs:{width:"500"},model:{value:e.dialogOutside,callback:function(t){e.dialogOutside=t},expression:"dialogOutside"}},[r("CreateItem",{on:{"close-dialog":e.closeDialog}})],1)],1)},X=[],Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("v-card",{staticClass:"mx-auto mt-2 px-1",attrs:{color:"base"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Lägg till inventarie ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på inventariet"},model:{value:e.itemName,callback:function(t){e.itemName=t},expression:"itemName"}}),r("v-text-field",{attrs:{label:"Garanti",rules:e.rules,placeholder:"Hur många års garanti har produkten"},model:{value:e.warranty,callback:function(t){e.warranty=t},expression:"warranty"}}),r("v-textarea",{attrs:{label:"Beskriving",rules:e.rules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:"Inköpsdatum","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.orderDate,callback:function(t){e.orderDate=t},expression:"orderDate"}},"v-text-field",o,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:e.orderDate,callback:function(t){e.orderDate=t},expression:"orderDate"}})],1),void 0!==e.rooms?r("v-select",{attrs:{"prepend-icon":"mdi-home-city",items:e.rooms.map((function(e){return e})),"item-text":"roomName","item-value":"_id",placeholder:"Välj rum"},model:{value:e.selectedRoomId,callback:function(t){e.selectedRoomId=t},expression:"selectedRoomId"}}):e._e(),void 0!==e.projects?r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.projects.map((function(e){return e})),"item-text":"projectName","item-value":"._id",placeholder:"Välj projekt"},model:{value:e.selectedProjectId,callback:function(t){e.selectedProjectId=t},expression:"selectedProjectId"}}):e._e(),r("ImageUploader"),r("FileUploader"),r("v-card-actions",[r("v-btn",{attrs:{color:"accent2"},on:{click:e.createItemHandler}},[e._v(" Spara ")])],1)],1)],1)},ee=[],te=(r("a4d3"),r("e01a"),r("324b")),re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.sendFile(t)}}},[r("div",{staticClass:"field"},[r("v-file-input",{ref:"file",attrs:{label:"File upload",filled:"","prepend-icon":"mdi-camera",type:"file",accept:"file"},on:{change:e.selectFile}}),r("div",{staticClass:"field"},[r("v-btn",{on:{click:function(t){return e.uploadFile(e.selectedFile)}}},[e._v(" Ladda upp filen ")])],1)],1)])],1)},ne=[],oe={name:"FileUploader",data:function(){return{selectedFile:null}},methods:{selectFile:function(e){this.selectedFile=e},uploadFile:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,t.$store.dispatch("FILE/uploadFileToDB",e);case 3:case"end":return r.stop()}}),r)})))()}}},ae=oe,ie=r("23a7"),se=r("4bd4"),ce=Object(d["a"])(ae,re,ne,!1,null,null,null),le=ce.exports;p()(ce,{VBtn:v["a"],VFileInput:ie["a"],VForm:se["a"]});var ue={components:{ImageUploader:te["a"],FileUploader:le},name:"CreatItem",data:function(){return{itemName:"",description:"",orderDate:"",warranty:"",receipt:"",selectedProjectId:void 0,selectedRoomId:void 0,rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],date:null,menu:!1}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},computed:{projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return void 0!==this.$store.getters["PROJECT/getProjectFromProjects"](this.selectedProjectId)?this.$store.getters["PROJECT/getProjectFromProjects"](this.selectedProjectId):[]},room:function(){return void 0!==this.$store.getters["ROOM/getRoomFromRooms"](this.selectedRoomId)?this.$store.getters["ROOM/getRoomFromRooms"](this.selectedRoomId):[]},rooms:function(){return this.$store.getters["ROOM/getRooms"]}},methods:{save:function(e){this.$refs.menu.save(e)},createItemHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={itemName:e.itemName,imageId:e.$store.getters["IMAGE/getImage"]._id,description:e.description,orderDate:e.orderDate,fileId:e.$store.getters["FILE/getFile"]._id,warranty:e.warranty,projectId:e.selectedProjectId,roomId:e.selectedRoomId},t.next=3,e.$store.dispatch("PROJECT/setProject",e.project);case 3:return t.next=5,e.$store.dispatch("ROOM/setRoom",e.room);case 5:return t.next=7,e.$store.dispatch("ITEMS/createItem",r);case 7:return t.next=9,e.$store.dispatch("PROJECT/addItemToProject",e.$store.getters["ITEMS/getItem"]._id);case 9:if(0===e.$store.getters["PROJECT/getProject"].length){t.next=12;break}return t.next=12,e.$store.dispatch("PROJECT/updateProject",e.$store.getters["PROJECT/getProject"]);case 12:return t.next=14,e.$store.dispatch("ROOM/addItemToRoom",e.$store.getters["ITEMS/getItem"]._id);case 14:if(0===e.$store.getters["ROOM/getRoom"].length){t.next=17;break}return t.next=17,e.$store.dispatch("ROOM/updateRoom",e.$store.getters["ROOM/getRoom"]);case 17:return t.next=19,e.$store.dispatch("PROJECT/setProjects");case 19:return t.next=21,e.$store.dispatch("ROOM/setRooms");case 21:e.$emit("close-dialog");case 22:case"end":return t.stop()}}),t)})))()}}},de=ue,me=r("2e4b"),pe=r("e449"),fe=r("b974"),ge=r("8654"),ve=r("a844"),he=Object(d["a"])(de,Z,ee,!1,null,null,null),Ie=he.exports;p()(he,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardTitle:B["d"],VDatePicker:me["a"],VMenu:pe["a"],VSelect:fe["a"],VTextField:ge["a"],VTextarea:ve["a"]});var je={components:{CreateItem:Ie},name:"QuickStart",data:function(){return{fab:!1,dialogOutside:!1}},methods:{closeDialog:function(){this.dialogOutside=!1}}},xe=je,be=r("a523"),_e=r("169a"),Re=r("c73b"),Oe=Object(d["a"])(xe,W,X,!1,null,null,null),ke=Oe.exports;p()(Oe,{VBtn:v["a"],VContainer:be["a"],VDialog:_e["a"],VIcon:h["a"],VSpeedDial:Re["a"]});var we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-auto pt-2 d-flex justify-space-around align-center flex-wrap",attrs:{"max-width":"900",color:"primary",height:"20rem"}},[r("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("div",e._g({staticClass:"project_button"},n),[r("div",{staticClass:"inside_div"},[r("h3",[e._v("Skapa ditt projekt")])])])]}}]),model:{value:e.dialogProject,callback:function(t){e.dialogProject=t},expression:"dialogProject"}},[r("CreateProject",{on:{"close-dialog":e.closeDialogProject}})],1),r("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("div",e._g({staticClass:"inventory_button"},n),[r("div",{staticClass:"inside_div"},[r("h3",[e._v("Lägg till inventarie")])])])]}}]),model:{value:e.dialogInventory,callback:function(t){e.dialogInventory=t},expression:"dialogInventory"}},[r("CreateItem",{on:{"close-dialog":e.closeDialogInventory}})],1)],1)},Pe=[],ye=r("59bc"),Se={name:"ActionCard",data:function(){return{dialogProject:!1,dialogInventory:!1}},components:{CreateItem:Ie,CreateProject:ye["default"]},methods:{closeDialogProject:function(){this.dialogProject=!1},closeDialogInventory:function(){this.dialogInventory=!1}}},Ce=Se,Ee=(r("ae50"),Object(d["a"])(Ce,we,Pe,!1,null,"243c5648",null)),Te=Ee.exports;p()(Ee,{VCard:A["a"],VDialog:_e["a"]});var $e={name:"Home",components:{Dashboard:Y,QuickStart:ke,ActionCard:Te}},Ve=$e,Fe=(r("cccb"),r("62ad")),He=r("0fd9"),Ne=Object(d["a"])(Ve,H,N,!1,null,null,null),Me=Ne.exports;p()(Ne,{VCol:Fe["a"],VContainer:be["a"],VRow:He["a"]});var Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return void 0!==e.project?r("v-container",{staticClass:"py-16",attrs:{fluid:"","min-width":"300"}},[r("Quick-start"),r("v-row",[r("v-col",{attrs:{sm:"6",md:"6","order-md":"1",color:"secondary"}},[r("v-card",{staticClass:"mx-auto mt-2 px-1 ",attrs:{color:"primary","max-width":"900","min-width":"280"}},[r("div",{staticClass:"d-flex justify-space-between"},[r("v-card-title",{staticClass:"card-header"},[e._v(" Mitt valda projekt: "),r("br"),e._v(" "+e._s(e.project.projectName)+" ")]),r("div",{staticClass:"edit-buttons d-flex pt-4",attrs:{color:"accent2"}},[r("Delete-project-dialog",{attrs:{project:e.project}}),r("EditProject")],1)],1),r("div",{staticClass:"d-flex justify-center px-4"},[r("v-img",{attrs:{height:"200",src:e.image}})],1),r("v-card-title",[e._v("Beskrivning")]),r("v-card-text",[e._v(" "+e._s(e.project.description)+" ")]),r("v-expansion-panels",[e.project.roomId?r("v-expansion-panel",[r("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Rum ")]),r("v-expansion-panel-content",[e._v(" "+e._s(e.project.category)+" ")])],1):e._e(),e.project.category?r("v-expansion-panel",[r("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Kategori ")]),r("v-expansion-panel-content",[e._v(" "+e._s(e.project.category)+" ")])],1):e._e(),r("v-expansion-panel",[r("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Inventarier ")]),e._l(e.project.itemsId,(function(t){return r("v-expansion-panel-content",{key:t._id,attrs:{fucosable:"",color:"primary"}},[r("v-list-item",{attrs:{fluid:""}},[r("v-btn",{key:t._id,staticClass:"mx-auto my-auto mb-0",attrs:{width:"70%",depressed:""},on:{click:function(r){return e.goToItemHandler(t)}}},[e._v(e._s(t.itemName))]),r("v-list-item",[r("v-btn",{key:t._id+1,staticClass:"my-auto mb-0 mr-1 ",attrs:{icon:"",depressed:""},on:{click:function(r){return e.deleteItemHandler(t._id)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-delete")])],1),r("v-btn",{key:t._id+2,staticClass:"my-auto mb-0 ",attrs:{icon:"",depressed:""},on:{click:function(r){return e.deleteItemHandler(t._id)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-pencil")])],1)],1)],1)],1)}))],2),e.project.fileId?r("v-expansion-panel",[r("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Dokument ")]),r("v-expansion-panel-content",[r("div",{staticClass:"d-flex justify-space-between align-center"},[r("div",[r("v-icon",[e._v("mdi-arrow-up-bold-box-outline")]),e._v(" Namn på filen ")],1),r("v-btn",{attrs:{color:"accent2",href:e.fileURL}},[e._v("hämta fil ")])],1)])],1):e._e()],1)],1)],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"mx-auto mt-1",attrs:{"max-width":"900",color:"primary"}},[r("v-card-text",[r("h5",[e._v("Alla Projekt")]),e._l(e.projects,(function(t,n){return r("v-list-item",{key:n,attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.projectName))]),r("v-list-item-subtitle",[e._v(" "+e._s(t.description)+", ")])],1),r("v-list-item-action",[r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.openProjectDetails(t)}}},[r("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-open-in-new")])],1)],1)],1)}))],2)],1)],1)],1)],1):e._e()},De=[],Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"344"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",o,!1),n),[r("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialogBox,callback:function(t){e.dialogBox=t},expression:"dialogBox"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Radera projekt")]),r("v-card-text",[r("div",{staticClass:"text-h5 mt-4 text-center"},[e._v(" Vill du radera "+e._s(e.project.projectName)+"? ")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"accent1"},on:{click:function(t){return e.deleteProjectHandler(e.project._id)}}},[e._v("JA")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogBox=!1}}},[e._v("NEJ")])],1)],1)],1)},Ae=[],Be={name:"deleteProjectDialog",data:function(){return{dialogBox:!1}},props:{project:{type:Object}},methods:{deleteProjectHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("PROJECT/deleteProject",e);case 2:void 0!==t.$store.getters["PROJECT/getProject"]&&(0!==t.$store.getters["PROJECT/getProject"].length?localStorage.setItem("currentProject",JSON.stringify(t.$store.getters["PROJECT/getProjects"][0])):localStorage.setItem("currentProject",[])),t.$store.dispatch("PROJECT/setProject"),t.$store.dispatch("PROJECT/setProjects"),t.dialogBox=!1;case 6:case"end":return r.stop()}}),r)})))()}}},Ue=Be,Ge=r("71d9"),qe=Object(d["a"])(Ue,Le,Ae,!1,null,null,null),ze=qe.exports;p()(qe,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardText:B["c"],VDialog:_e["a"],VIcon:h["a"],VToolbar:Ge["a"]});var Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.storeOldId}},"v-btn",o,!1),n),[r("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-pencil")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{color:"base"}},[r("v-card-title",[e._v(" Ändra i ditt Projekt ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Namn på projektet"},model:{value:e.project.projectName,callback:function(t){e.$set(e.project,"projectName",t)},expression:"project.projectName"}}),r("v-text-field",{attrs:{label:"Kategori",rules:e.rules,placeholder:"kategori"},model:{value:e.project.category,callback:function(t){e.$set(e.project,"category",t)},expression:"project.category"}}),r("v-textarea",{attrs:{label:"Beskriving",rules:e.rules},model:{value:e.project.description,callback:function(t){e.$set(e.project,"description",t)},expression:"project.description"}}),r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.items.map((function(e){return e})),"item-text":"projectName","item-value":"_id",placeholder:e.item.itemName},model:{value:e.project.itemsId,callback:function(t){e.$set(e.project,"itemsId",t)},expression:"project.itemsId"}}),r("v-select",{attrs:{"prepend-icon":"mdi-home-city",items:e.rooms.map((function(e){return e})),"item-text":"roomName","item-value":"_id",placeholder:e.project.roomId},model:{value:e.project.roomId,callback:function(t){e.$set(e.project,"roomId",t)},expression:"project.roomId"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}}),r("v-img",{staticClass:"mb-2",attrs:{contain:"","lazy-src":e.image,src:e.image,"max-height":"100 "}}),r("ImageUploader"),r("FileUploader"),e.project.fileId?r("div",[r("v-icon",[e._v("mdi-arrow-up-bold-box-outline")]),e._v(e._s(e.project.fileId)+" ")],1):e._e(),r("v-card-actions",[r("v-btn",{attrs:{color:"accent2"},on:{click:e.updateProjectHandler}},[e._v(" Spara ")])],1)],1)],1)},Ke=[],Ye={components:{ImageUploader:te["a"],FileUploader:le},name:"EditProject",data:function(){return{rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],menu:!1,inputField:!1,dialog:!1}},computed:{items:function(){return this.$store.getters["ITEMS/getItems"]},image:function(){return"api/images/"+this.$store.getters["ITEMS/getItem"].imageId},projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return this.$store.getters["PROJECT/getProject"]},item:function(){return void 0!==this.$store.getters["ITEMS/getItemFromItems"](this.project.itemId)?this.$store.getters["ITEMS/getItemFromItems"](this.project.itemId):[]},rooms:function(){return this.$store.getters["ROOM/getRooms"]},room:function(){return this.$store.getters["ROOM/getRoomFromRooms"](this.item.roomId)}},methods:{storeOldId:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.commit("PROJECT/setOldProject",e.project);case 2:return t.next=4,e.$store.commit("IMAGE/setOldImage",e.project.imageId);case 4:return t.next=6,e.$store.commit("FILE/setOldFile",e.project.fileId);case 6:case"end":return t.stop()}}),t)})))()},updateProjectHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={_id:e.project._id,projectName:e.project.projectName,imageId:e.$store.getters["IMAGE/getImage"],description:e.project.description,category:e.project.category,fileId:e.$store.getters["FILE/getFile"]._id,itemsId:e.project.itemsId,roomId:e.item.roomId},t.next=3,e.$store.dispatch("PROJECT/updateProject",r);case 3:return t.next=5,e.$store.dispatch("IMAGE/updateImage",r.imageId);case 5:return localStorage.setItem("currentProject",JSON.stringify(e.$store.getters["PROJECT/getProject"])),t.next=8,e.$store.dispatch("FILE/updateFile",r.fileId);case 8:return t.next=10,e.$store.dispatch("ITEMS/setItem",e.item);case 10:return t.next=12,e.$store.dispatch("ITEMS/moveProjectToItems",e.$store.getters["ITEMS/getItem"]._id);case 12:e.dialog=!1;case 13:case"end":return t.stop()}}),t)})))()}}},We=Ye,Xe=Object(d["a"])(We,Qe,Ke,!1,null,null,null),Ze=Xe.exports;p()(Xe,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardTitle:B["d"],VDialog:_e["a"],VIcon:h["a"],VImg:Q["a"],VMenu:pe["a"],VSelect:fe["a"],VTextField:ge["a"],VTextarea:ve["a"]});var et={namespaced:!0,name:"Project",data:function(){return{}},components:{QuickStart:ke,DeleteProjectDialog:ze,EditProject:Ze},methods:{openProjectDetails:function(e){this.$store.dispatch("PROJECT/setProject",e),this.$store.dispatch("IMAGE/setImage",this.$store.getters["PROJECT/getProject"].imageId),localStorage.setItem("currentProject",JSON.stringify(e)),window.scrollTo(0,0),console.log(this.project)},log:function(e){console.log(e)},goToItemHandler:function(e){this.$store.dispatch("ITEMS/setItem",e),localStorage.setItem("currentItem",JSON.stringify(e)),this.$router.push("Item")},deleteItemHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("ITEMS/deleteItem",e);case 2:t.$store.dispatch("PROJECT/setProjects");case 3:case"end":return r.stop()}}),r)})))()}},computed:{projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return this.$store.getters["PROJECT/getProjectFromProjects"](this.$store.getters["PROJECT/getProject"]._id)},image:function(){return"api/images/"+this.$store.getters["PROJECT/getProject"].imageId},files:function(){return this.$store.getters["FILE/getFiles"]},fileURL:function(){return"/api/files/"+this.$store.getters["PROJECT/getProject"].fileId}}},tt=et,rt=(r("4bbb"),r("1800")),nt=Object(d["a"])(tt,Je,De,!1,null,"63395b42",null),ot=nt.exports;p()(nt,{VBtn:v["a"],VCard:A["a"],VCardText:B["c"],VCardTitle:B["d"],VCol:Fe["a"],VContainer:be["a"],VExpansionPanel:U["a"],VExpansionPanelContent:G["a"],VExpansionPanelHeader:q["a"],VExpansionPanels:z["a"],VIcon:h["a"],VImg:Q["a"],VListItem:j["a"],VListItemAction:rt["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VRow:He["a"]});var at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return void 0!==e.items||void 0!==e.item?r("v-container",{staticClass:"py-16",attrs:{fluid:""}},[r("Quick-start"),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6","order-md":"1"}},[void 0!==e.item?r("v-card",{staticClass:"mx-auto mt-2",attrs:{color:"primary","max-width":"900"}},[r("v-card-text",[r("div",{staticClass:"d-flex justify-space-between"},[r("div",{staticClass:"card-header"},[r("p",[e._v("Valt inventarie")]),r("h2",[e._v(" "+e._s(e.item.itemName)+" ")])]),r("div",{staticClass:"edit-buttons d-flex",attrs:{color:"accent2"}},[r("Edit-item"),r("Delete-dialog")],1)]),r("v-img",{attrs:{height:"200",src:e.image}}),r("div",{staticClass:"text--primary"},[r("p",[e._v("Beskrivning: "+e._s(e.item.description))])])],1),r("v-card-actions",[r("v-btn",{attrs:{text:"","x-large":"",color:"secondary"},on:{click:function(t){e.reveal=!0}}},[e._v(" Visa mer ")])],1),r("v-expand-transition",[e.reveal?r("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal d-flex flex-column justify-space-between",staticStyle:{height:"100%"},attrs:{color:"primary"}},[r("v-card-text",{staticClass:"pb-0"},[r("p",[e._v("Garanti: "+e._s(e.item.warranty))]),r("p",[e._v("Inköpsdatum: "+e._s(e.item.orderDate))]),r("p",[e._v("Rum: Köket")]),r("p",[e._v("Projekt: "+e._s(e.item.warranty))]),r("div",{staticClass:"d-flex justify-space-between align-center"},[e.item.fileId?r("div",[r("v-icon",[e._v("mdi-arrow-up-bold-box-outline")]),e._v(" Namn på filen ")],1):e._e(),r("v-btn",{attrs:{color:"accent2",href:e.fileURL}},[e._v("hämta fil ")])],1)]),r("v-card-actions",{staticClass:"pt-0"},[r("v-btn",{attrs:{text:"","x-large":"",color:"secondary"},on:{click:function(t){e.reveal=!1}}},[e._v(" Stäng ")])],1)],1):e._e()],1)],1):e._e()],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",{staticClass:"mx-auto mt-1",attrs:{"max-width":"900",color:"primary"}},[r("v-card-text",[r("h5",[e._v("Alla inventarier")]),e._l(e.items,(function(t,n){return r("v-list-item",{key:n,attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.itemName))]),r("v-list-item-subtitle",[e._v(" "+e._s(t.description)+", ")])],1),r("v-list-item-action",[r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.openItemDetails(t)}}},[r("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-open-in-new")])],1)],1)],1)}))],2)],1)],1)],1)],1):e._e()},it=[],st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"344"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",o,!1),n),[r("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialogBox,callback:function(t){e.dialogBox=t},expression:"dialogBox"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Radera inventarie")]),r("v-card-text",[r("div",{staticClass:"text-h5 mt-4 text-center"},[e._v(" Vill du radera "+e._s(e.item.itemName)+"? ")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"accent1"},on:{click:function(t){return e.deleteItemHandler(e.item._id)}}},[e._v("JA")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogBox=!1}}},[e._v("NEJ")])],1)],1)],1)},ct=[],lt={name:"deleteDialog",data:function(){return{dialogBox:!1}},methods:{deleteItemHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("ITEMS/deleteItem",e);case 2:0!==t.$store.getters["ITEMS/getItems"].length?localStorage.setItem("currentItem",JSON.stringify(t.$store.getters["ITEMS/getItems"][0])):localStorage.setItem("currentItem",[]),t.$store.dispatch("ITEMS/setItems"),t.$store.dispatch("PROJECT/setProjects"),t.dialogBox=!1;case 6:case"end":return r.stop()}}),r)})))()}},computed:{item:function(){return this.$store.getters["ITEMS/getItem"]}}},ut=lt,dt=Object(d["a"])(ut,st,ct,!1,null,null,null),mt=dt.exports;p()(dt,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardText:B["c"],VDialog:_e["a"],VIcon:h["a"],VToolbar:Ge["a"]});var pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.storeOldId}},"v-btn",o,!1),n),[r("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-pencil")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{color:"base"}},[r("v-card-title",[e._v(" Lägg till inventarie ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"itemName"},model:{value:e.item.itemName,callback:function(t){e.$set(e.item,"itemName",t)},expression:"item.itemName"}}),r("v-text-field",{attrs:{label:"Garanti",rules:e.rules,placeholder:"Hur många års garanti har produkten"},model:{value:e.item.warranty,callback:function(t){e.$set(e.item,"warranty",t)},expression:"item.warranty"}}),r("v-textarea",{attrs:{label:"Beskriving",rules:e.rules},model:{value:e.item.description,callback:function(t){e.$set(e.item,"description",t)},expression:"item.description"}}),r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.projects.map((function(e){return e})),"item-text":"projectName","item-value":"_id",placeholder:e.project.projectName},model:{value:e.item.projectId,callback:function(t){e.$set(e.item,"projectId",t)},expression:"item.projectId"}}),r("v-select",{attrs:{"prepend-icon":"mdi-home-city",items:e.rooms.map((function(e){return e})),"item-text":"roomName","item-value":"_id",placeholder:e.item.roomId},model:{value:e.item.roomId,callback:function(t){e.$set(e.item,"roomId",t)},expression:"item.roomId"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:"Inköpsdatum","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.item.orderDate,callback:function(t){e.$set(e.item,"orderDate",t)},expression:"item.orderDate"}},"v-text-field",o,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:e.item.orderDate,callback:function(t){e.$set(e.item,"orderDate",t)},expression:"item.orderDate"}})],1),r("v-img",{staticClass:"mb-2",attrs:{contain:"","lazy-src":e.image,src:e.image,"max-height":"100 "}}),r("ImageUploader"),r("FileUploader"),e.item.fileId?r("div",[r("v-icon",[e._v("mdi-arrow-up-bold-box-outline")]),e._v(e._s(e.item.fileId))],1):e._e(),r("v-card-actions",[r("v-btn",{attrs:{color:"accent2"},on:{click:e.updateItemHandler}},[e._v(" Spara ")])],1)],1)],1)},ft=[],gt={components:{ImageUploader:te["a"],FileUploader:le},name:"UpdateItem",data:function(){return{rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],date:null,menu:!1,inputField:!1,dialog:!1}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},computed:{item:function(){return this.$store.getters["ITEMS/getItem"]},image:function(){return"api/images/"+this.$store.getters["ITEMS/getItem"].imageId},projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return void 0!==this.$store.getters["PROJECT/getProjectFromProjects"](this.item.projectId)?this.$store.getters["PROJECT/getProjectFromProjects"](this.item.projectId):[]},rooms:function(){return this.$store.getters["ROOM/getRooms"]},room:function(){return this.$store.getters["ROOM/getRoomFromRooms"](this.item.roomId)}},methods:{storeOldId:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.commit("PROJECT/setOldProject",e.project);case 2:return t.next=4,e.$store.commit("IMAGE/setOldImage",e.item.imageId);case 4:return t.next=6,e.$store.commit("FILE/setOldFile",e.item.fileId);case 6:case"end":return t.stop()}}),t)})))()},save:function(e){this.$refs.menu.save(e)},updateItemHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={_id:e.item._id,itemName:e.item.itemName,imageId:e.$store.getters["IMAGE/getImage"],description:e.item.description,orderDate:e.item.orderDate,fileId:e.$store.getters["FILE/getFile"]._id,warranty:e.item.warranty,projectId:e.item.projectId,roomId:e.item.roomId},t.next=3,e.$store.dispatch("ITEMS/updateItem",r);case 3:return t.next=5,e.$store.dispatch("IMAGE/updateImage",r.imageId);case 5:return localStorage.setItem("currentItem",JSON.stringify(e.$store.getters["ITEMS/getItem"])),t.next=8,e.$store.dispatch("FILE/updateFile",r.fileId);case 8:return t.next=10,e.$store.dispatch("PROJECT/setProject",e.project);case 10:return t.next=12,e.$store.dispatch("PROJECT/moveItemToProject",e.$store.getters["ITEMS/getItem"]._id);case 12:e.dialog=!1;case 13:case"end":return t.stop()}}),t)})))()}}},vt=gt,ht=Object(d["a"])(vt,pt,ft,!1,null,null,null),It=ht.exports;p()(ht,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardTitle:B["d"],VDatePicker:me["a"],VDialog:_e["a"],VIcon:h["a"],VImg:Q["a"],VMenu:pe["a"],VSelect:fe["a"],VTextField:ge["a"],VTextarea:ve["a"]});var jt={namespaced:!0,name:"item",data:function(){return{reveal:!1,file:{}}},components:{QuickStart:ke,DeleteDialog:mt,EditItem:It},methods:{openItemDetails:function(e){this.$store.dispatch("ITEMS/setItem",e),this.$store.dispatch("IMAGE/setImage",this.$store.getters["ITEMS/getItem"].imageId),localStorage.setItem("currentItem",JSON.stringify(e)),window.scrollTo(0,0)}},computed:{fileURL:function(){return"/api/files/"+this.$store.getters["ITEMS/getItem"].fileId},items:function(){return this.$store.getters["ITEMS/getItems"]},item:function(){return this.$store.getters["ITEMS/getItem"]},image:function(){return"api/images/"+this.$store.getters["ITEMS/getItem"].imageId},files:function(){return this.$store.getters["FILE/getFiles"]}}},xt=jt,bt=(r("207a"),r("0789")),_t=Object(d["a"])(xt,at,it,!1,null,"406d8ca3",null),Rt=_t.exports;p()(_t,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardText:B["c"],VCol:Fe["a"],VContainer:be["a"],VExpandTransition:bt["a"],VIcon:h["a"],VImg:Q["a"],VListItem:j["a"],VListItemAction:rt["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VRow:He["a"]});var Ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",{staticClass:"main"},[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Logga in")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{name:"email",label:"Email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{id:"password",name:"password",label:"Lösenord",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("router-link",{attrs:{to:"/signup"}},[e._v("Inte registrerad? Registrera dig här.")])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:e.loginHandler}},[e._v("Logga in")])],1)],1)],1)],1)],1)],1)],1)},kt=[],wt={name:"Login",data:function(){return{email:"",password:"",error:!1}},methods:{loginHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={email:e.email,password:e.password},t.next=3,e.$store.dispatch("SESSION/login",r).then((function(){!0===e.$store.getters["SESSION/getLoggedIn"]&&(e.$store.dispatch("PROJECT/setProjects"),e.$store.dispatch("HOUSE/setHouses"),e.$router.push({name:"Home"}))}));case 3:case"end":return t.stop()}}),t)})))()}}},Pt=wt,yt=(r("039a"),r("0e8f")),St=r("a722"),Ct=r("2a7f"),Et=Object(d["a"])(Pt,Ot,kt,!1,null,null,null),Tt=Et.exports;p()(Et,{VApp:y["a"],VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardText:B["c"],VContainer:be["a"],VFlex:yt["a"],VForm:se["a"],VLayout:St["a"],VMain:S["a"],VSpacer:R["a"],VTextField:ge["a"],VToolbar:Ge["a"],VToolbarTitle:Ct["a"]});var $t=r("2f62"),Vt=(r("4de4"),r("7db0"),r("c740"),r("a434"),"api/"),Ft={Accept:"application/json"},Ht={namespaced:!0,state:{projects:[],project:[],oldProject:[]},getters:{getProjects:function(e){return e.projects},getProjectFromProjects:function(e){return function(t){return e.projects.find((function(e){return e._id===t}))}},getProject:function(e){return e.project}},mutations:{setProjects:function(e,t){e.projects=t},setProject:function(e,t){e.project=t},setProjectFromStorage:function(e,t){if(t){var r=JSON.parse(localStorage.getItem("currentProject")||"[]");t._id===r.userParentId&&(e.project=r)}},setOldProject:function(e,t){e.oldProject=t},createProject:function(e,t){e.projects.push(t)},addItemToProject:function(e,t){e.project.itemsId.push(t)},deleteItemFromProject:function(e,t){var r=e.oldProject.itemsId.findIndex((function(e){return e._id===t}));r>-1&&e.oldProject.itemsId.splice(r,1)}},selectedItem:function(e){return e.items.find((function(t){return t.id==e.selectedId}))},actions:{getProjectFromProjects:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.getters["getProjectFromProjects"](t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},setProjects:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Vt+"projects",{headers:Ft});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setProjects",n);case 7:case"end":return t.stop()}}),t)})))()},setProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.commit("setProject",t);case 2:case"end":return r.stop()}}),r)})))()},setProjectFromStorage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/loggedIn");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setProjectFromStorage",n);case 7:case"end":return t.stop()}}),t)})))()},addItemToProject:function(e,t){if(0!==e.getters["getProject"].length){var r=e.getters["getProject"];1!==r.itemsId.filter((function(e){return e._id===t})).length&&e.commit("addItemToProject",t)}},moveItemToProject:function(e,t){if(void 0!==e.getters["getProject"].itemsId){var r=e.getters["getProject"];if(0===r.itemsId.length)return e.commit("addItemToProject",t),e.dispatch("updateProject",e.getters["getProject"]),e.commit("deleteItemFromProject",t),void e.dispatch("updateProject",this.state.PROJECT.oldProject);1!==r.itemsId.filter((function(e){return e._id===t})).length&&(e.commit("addItemToProject",t),e.dispatch("updateProject",r),e.commit("deleteItemFromProject",t),e.dispatch("updateProject",this.state.PROJECT.oldProject))}},createProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Vt+"newproject",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(){e.dispatch("setProjects")}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},updateProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("det uppdaterade projektet",t),e.next=3,fetch(Vt+"projects/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},deleteProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Vt+"projects/"+t,{method:"DELETE"}).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}},Nt="/api/",Mt={Accept:"application/json"},Jt={namespaced:!0,state:{rooms:[],room:[],computedRooms:[]},getters:{getRooms:function(e){return e.rooms},getComputedRooms:function(e){return e.computedRooms},getRoom:function(e){return e.room},getRoomFromRooms:function(e){return function(t){return e.rooms.find((function(e){return e._id===t}))}}},mutations:{setRooms:function(e,t){e.rooms=t},setRoom:function(e,t){e.room=t},createRoom:function(e,t){e.room.push(t)},addProjectToRoom:function(e,t){e.room.projects.push(t)},addItemToRoom:function(e,t){e.room.items.push(t)},updateToRoomsWithHouseId:function(e,t){var r=e.rooms.filter((function(e){var r=e.houseId;return r==t}));e.computedRooms=r}},actions:{setRooms:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Nt+"rooms",{headers:Mt});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setRooms",n);case 7:case"end":return t.stop()}}),t)})))()},computedRooms:function(e,t){e.commit("updateToRoomsWithHouseId",t)},createRoom:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Nt+"newroom",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("createRoom",t),e.commit("setRoom",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},addProjectToRoom:function(e,t){if(0!==e.getters["getRoom"].length){var r=e.getters["getRoom"];1!==r.projects.filter((function(e){return e._id===t})).length&&e.commit("addProjectToRoom",t)}},addItemToRoom:function(e,t){if(0!==e.getters["getRoom"].length){var r=e.getters["getRoom"];1!==r.items.filter((function(e){return e._id===t})).length&&e.commit("addItemToRoom",t)}},setRoom:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.commit("setRoom",t);case 2:case"end":return r.stop()}}),r)})))()},updateRoom:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Nt+"rooms/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}},Dt="/api/",Lt={Accept:"application/json"},At={namespaced:!0,state:{items:[],item:[],oldItem:[]},getters:{getItems:function(e){return e.items},getItem:function(e){return e.item},getItemFromItems:function(e){return function(t){return e.items.find((function(e){return e._id===t}))}}},mutations:{setItems:function(e,t){e.items=t},setItem:function(e,t){e.item=t},createItem:function(e,t){e.items.push(t)},setItemFromStorage:function(e,t){if(t){var r=JSON.parse(localStorage.getItem("currentItem")||"[]");t._id===r.userParentId&&(e.item=r)}},updateItem:function(e,t){var r=e.items.findIndex((function(e){return e._id===t._id}));r>-1&&e.items.splice(r,1,t)},deleteItemFromState:function(e,t){var r=e.items.findIndex((function(e){return e._id===t}));r>-1&&e.items.splice(r,1),0!==e.items.length?e.item=e.items[0]:e.item=[]},deleteProjectFromItem:function(e,t){var r=e.oldItem.projectId.findIndex((function(e){return e._id===t}));r>-1&&e.oldItem.projectId.splice(r,1)}},actions:{setItems:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Dt+"items",{headers:Lt});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setItems",n);case 7:case"end":return t.stop()}}),t)})))()},setItem:function(e,t){e.commit("setItem",t)},setItemFromStorage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/loggedIn");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setItemFromStorage",n);case 7:case"end":return t.stop()}}),t)})))()},createItem:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Dt+"newitem",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("createItem",t),e.commit("setItem",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},deleteItem:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Dt+"items/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){e.commit("deleteItemFromState",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},updateItem:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Dt+"items/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("updateItem",t),e.commit("setItem",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},moveProjectToItems:function(e,t){if(void 0!==e.getters["getItem"].projectId){var r=e.getters["getItem"];if(0===r.projectId.length)return e.commit("addProjectToItem",t),e.dispatch("updateItem",e.getters["getItem"]),e.commit("deleteItemFromProject",t),void e.dispatch("updateItem",this.state.ITEM.oldItem);1!==r.projectId.filter((function(e){return e._id===t})).length&&(e.commit("addProjecToItem",t),e.dispatch("updateItem",r),e.commit("deleteItemFromProject",t),e.dispatch("updateItem",this.state.ITEM.oldItem))}},addProjectToItem:function(e,t){if(0!==e.getters["getItem"].length){var r=e.getters["getItem"];1!==r.projectId.filter((function(e){return e._id===t})).length&&e.commit("addProjectToItem",t)}}}},Bt="api/",Ut={namespaced:!0,state:{loggedIn:!1},getters:{getLoggedIn:function(e){return e.loggedIn}},mutations:{setLoggedIn:function(e,t){e.loggedIn=t},setLoggedInFromStorage:function(e){e.loggedIn=JSON.parse(localStorage.getItem("loggedIn")||!1)}},actions:{login:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Bt+"session/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:t.email,password:t.password})}).then((function(t){200===t.status?(e.commit("setLoggedIn",!0),localStorage.setItem("loggedIn",JSON.stringify(!0))):e.commit("setLoggedIn",!1)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Bt+"session/logout",{method:"POST",credentials:"include"}).then((function(t){200===t.status?(e.commit("setLoggedIn",!1),localStorage.setItem("loggedIn",JSON.stringify(!1))):e.commit("setLoggedIn",!0)}));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()},signup:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Bt+"newuser",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},setLoggedInFromStorage:function(e){e.commit("setLoggedInFromStorage")}}},Gt=(r("b0c0"),"/api/"),qt={namespaced:!0,state:{image:{},oldImageId:[]},getters:{getImage:function(e){return e.image}},mutations:{setImage:function(e,t){e.image=t},setOldImage:function(e,t){e.oldImageId=t}},actions:{setImage:function(e,t){e.commit("setImage",t)},updateImage:function(e,t){t!==this.state.IMAGE.oldImageId&&(console.log("ta bort gammal bild",this.state.IMAGE.oldImageId),e.dispatch("deleteImageFromDB",this.state.IMAGE.oldImageId))},uploadImageToDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=new FormData,n.append("image",t,t.name),r.next=4,fetch(Gt+"images",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.commit("setImage",t)}));case 4:return o=r.sent,r.abrupt("return",o);case 6:case"end":return r.stop()}}),r)})))()},deleteImageFromDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Gt+"images/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("image deleted tralalal"+e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}},zt="/api/",Qt={Accept:"application/json"},Kt={namespaced:!0,state:{houses:[],house:[]},getters:{getHouses:function(e){return e.houses},getHouse:function(e){return e.house},getHouseFromHouses:function(e){return function(t){return e.houses.find((function(e){return e._id===t}))}}},mutations:{setHouses:function(e,t){e.houses=t},setHouse:function(e,t){e.house=t},createHouse:function(e,t){e.house.push(t)},addRoomToHouse:function(e,t){e.house.rooms.push(t)},setHouseFromStorage:function(e,t){if(t){var r=JSON.parse(localStorage.getItem("currentHouse")||"[]");t._id===r.userParentId&&(e.house=r)}}},actions:{setHouseFromStorage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/loggedIn");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setHouseFromStorage",n);case 7:case"end":return t.stop()}}),t)})))()},setHouses:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(zt+"houses",{headers:Qt});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setHouses",n);case 7:case"end":return t.stop()}}),t)})))()},setHouseFromDb:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(zt+"houses/"+t,{headers:Qt});case 2:return n=r.sent,r.next=5,n.json();case 5:o=r.sent,e.commit("setHouse",o);case 7:case"end":return r.stop()}}),r)})))()},createHouse:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(zt+"newhouse",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("createHouse",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},setHouse:function(e,t){e.commit("setHouse",t)},updateHouse:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(zt+"houses/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},addRoomToHouse:function(e,t){e.commit("addRoomToHouse",t)}}},Yt="/api/",Wt={namespaced:!0,state:{files:[],file:[],oldFileId:[]},getters:{getFile:function(e){return e.file},getFiles:function(e){return e.files}},mutations:{setFile:function(e,t){e.file=t},setFiles:function(e,t){e.files=t},setOldFile:function(e,t){e.oldFileId=t}},actions:{setFile:function(e,t){e.commit("setImage",t)},setFiles:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Yt+"files");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setFiles",n),console.log("hömtat alla fileid");case 8:case"end":return t.stop()}}),t)})))()},updateFile:function(e,t){console.log(t+"nytt id "+this.state.FILE.oldFileId+"gammalt id"),void 0!==this.state.IMAGE.oldFileID?t!==this.state.IMAGE.oldFileId?(console.log("ta bort gammal fil"),e.dispatch("deleteFileFromDB",this.state.FILE.oldFileId)):console.log("finns inget att updatera"):console.log("tomt oldFileId")},uploadFileToDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("addfile",t),n=new FormData,n.append("file",t,t.name),r.next=5,fetch(Yt+"files",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.commit("setFile",t),console.log(t,"fileupload complete")}));case 5:return o=r.sent,r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()},deleteFileFromDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Yt+"files/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("file deleted"+e._id)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}};n["a"].use($t["a"]);var Xt=new $t["a"].Store({modules:{PROJECT:Ht,ROOM:Jt,ITEMS:At,SESSION:Ut,IMAGE:qt,HOUSE:Kt,FILE:Wt}}),Zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"py-16",attrs:{fluid:""}},[r("Quick-start"),r("v-row",[e.houses?r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.houses.map((function(e){return e})),"item-text":"houseName","item-value":"_id",placeholder:e.placeholderText},on:{change:function(t){return e.goToHouseHandler(e.currentHouseId)}},model:{value:e.currentHouseId,callback:function(t){e.currentHouseId=t},expression:"currentHouseId"}}):e._e(),r("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[e._v(" "+e._s(e.log(e.house))+" "),r("v-card",{staticClass:"mx-auto",attrs:{color:"base"}},e._l(e.computedRooms,(function(t){return r("v-expansion-panels",{key:t._id,attrs:{focusable:""}},[r("v-expansion-panel",[r("v-expansion-panel-header",[e._v(e._s(t.roomName))]),r("v-expansion-panel-content",[r("p",[e._v("Höjd till tak: "+e._s(t.roomHeight))]),r("p",[e._v("Antal kvadratmeter "+e._s(t.roomSize))]),e._v(" "+e._s(t.items)+" "),r("div",{staticClass:"items"},[r("h5",[e._v("Inventarier")]),r("v-expansion-panels",e._l(t.items,(function(t){return r("v-expansion-panel",{key:t._id},[r("v-expansion-panel-header",[e._v(" "+e._s(t.itemName)+" ")]),r("v-expansion-panel-content",[r("p",[e._v("Beskrivning")]),e._v(" "+e._s(t.description)+" "),r("v-btn",{on:{click:function(r){return e.goToItemHandler(t)}}},[e._v("Visa inventariet")])],1)],1)})),1)],1),r("div",{staticClass:"projects"},[r("h5",[e._v("Projekt")]),r("v-expansion-panels",e._l(t.projects,(function(t,n){return r("v-expansion-panel",{key:n},[r("v-expansion-panel-header",[e._v(" "+e._s(t.projectName)+" ")]),r("v-expansion-panel-content",[e._v(" "+e._s(t.description)+" "),r("v-btn",{on:{click:function(r){return e.goToProjectHandler(t)}}},[e._v("Gå till projektet")])],1)],1)})),1)],1)])],1)],1)})),1)],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-carousel",{attrs:{cycle:"",height:"400","hide-delimiter-background":"","show-arrows-on-hover":""}},e._l(e.slides,(function(t,n){return r("v-carousel-item",{key:n},[r("v-sheet",{attrs:{color:e.colors[n],height:"100%"}},[r("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[r("div",{staticClass:"display-3"},[e._v(e._s(t)+" Slide")])])],1)],1)})),1)],1)],1),r("v-row",[r("v-col",[r("CreateHouse")],1),r("v-col",[r("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("div",e._g({staticClass:"project_button"},n),[r("div",{staticClass:"inside_div"},[r("h3",[e._v("Skapa rum")])])])]}}]),model:{value:e.dialogRoom,callback:function(t){e.dialogRoom=t},expression:"dialogRoom"}},[r("CreateRoom",{on:{"close-dialog":e.closeDialogRoom}})],1)],1)],1)],1)},er=[],tr=r("b41b"),rr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",o,!1),n),[e._v(" skapa nytt hus ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"100%"}},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{"max-width":"344"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Skapa nytt hus ")]),r("v-card-subtitle",{attrs:{color:"error",text:""}},[e._v(" Datum: 2021-01-02 ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på ditt hus"},model:{value:e.houseName,callback:function(t){e.houseName=t},expression:"houseName"}}),r("v-text-field",{attrs:{label:"House size"},model:{value:e.houseSize,callback:function(t){e.houseSize=t},expression:"houseSize"}}),r("v-text-field",{attrs:{label:"Number of rooms"},model:{value:e.numberOfRooms,callback:function(t){e.numberOfRooms=t},expression:"numberOfRooms"}}),r("v-card-actions",[r("v-btn",{on:{click:e.createHouseHandler}},[e._v(" Skapa hus ")]),r("v-spacer")],1)],1)],1)],1)],1)],1)},nr=[],or={name:"CreateHouse",data:function(){return{houseName:"",houseSize:"",numberOfRooms:"",houseCategory:"",rooms:[],projects:[],rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],dialog:!1}},methods:{createHouseHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={houseName:e.houseName,houseCategory:e.houseCategory,houseSize:e.houseSize,numberOfRooms:e.numberOfRooms,rooms:e.rooms,projects:e.projects},e.$store.dispatch("HOUSE/createHouse",r),e.diaolg=!1;case 3:case"end":return t.stop()}}),t)})))()}}},ar=or,ir=r("8dd9"),sr=Object(d["a"])(ar,rr,nr,!1,null,null,null),cr=sr.exports;p()(sr,{VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardSubtitle:B["b"],VCardTitle:B["d"],VDialog:_e["a"],VRow:He["a"],VSheet:ir["a"],VSpacer:R["a"],VTextField:ge["a"]});var lr={data:function(){return{currentHouseId:this.$store.getters["HOUSE/getHouse"],dialogRoom:!1,placeholderText:"Välj hus att visa",colors:["indigo","warning","pink darken-2","red lighten-1","deep-purple accent-4"],slides:["First","Second","Third","Fourth","Fifth"]}},name:"Home",components:{QuickStart:ke,CreateHouse:cr,CreateRoom:tr["default"]},methods:{closeDialogRoom:function(){this.dialogRoom=!1},log:function(e){console.log(e)},goToProjectHandler:function(e){this.$store.dispatch("PROJECT/setProject",e),localStorage.setItem("currentProject",JSON.stringify(e)),this.$router.push("Project")},goToItemHandler:function(e){this.$store.dispatch("ITEMS/setItem",e),localStorage.setItem("currentItem",JSON.stringify(e)),this.$router.push("Item")},goToHouseHandler:function(e){var t=this.$store.getters["HOUSE/getHouseFromHouses"](e);localStorage.setItem("currentHouse",JSON.stringify(t)),this.$store.dispatch("HOUSE/setHouse",t),this.$store.dispatch("ROOM/computedRooms",e)}},computed:{houses:function(){return this.$store.getters["HOUSE/getHouses"]},house:function(){return this.$store.getters["HOUSE/getHouse"]},computedRooms:function(){return this.$store.getters["ROOM/getComputedRooms"]}}},ur=lr,dr=(r("0854"),r("5e66")),mr=r("3e35"),pr=Object(d["a"])(ur,Zt,er,!1,null,null,null),fr=pr.exports;p()(pr,{VBtn:v["a"],VCard:A["a"],VCarousel:dr["a"],VCarouselItem:mr["a"],VCol:Fe["a"],VContainer:be["a"],VDialog:_e["a"],VExpansionPanel:U["a"],VExpansionPanelContent:G["a"],VExpansionPanelHeader:q["a"],VExpansionPanels:z["a"],VRow:He["a"],VSelect:fe["a"],VSheet:ir["a"]});var gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Registrering")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{name:"firstName",label:"Förnamn",type:"text"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),r("v-text-field",{attrs:{name:"lastName",label:"Efternamn",type:"lastName"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),r("v-text-field",{attrs:{name:"email",label:"Email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{id:"password",name:"password",label:"Lösenord",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:e.signupHandler}},[e._v("Registrera")])],1)],1)],1)],1)],1)],1)],1)},vr=[],hr={name:"Signup",data:function(){return{email:"",password:"",firstName:"",lastName:"",error:!1}},methods:{signupHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password},t.next=3,e.$store.dispatch("SESSION/signup",r).then((function(){e.$router.push({name:"Login"})}));case 3:case"end":return t.stop()}}),t)})))()}}},Ir=hr,jr=Object(d["a"])(Ir,gr,vr,!1,null,null,null),xr=jr.exports;p()(jr,{VApp:y["a"],VBtn:v["a"],VCard:A["a"],VCardActions:B["a"],VCardText:B["c"],VContainer:be["a"],VFlex:yt["a"],VForm:se["a"],VLayout:St["a"],VMain:S["a"],VSpacer:R["a"],VTextField:ge["a"],VToolbar:Ge["a"],VToolbarTitle:Ct["a"]}),n["a"].use(F["a"]);var br=[{path:"/",name:"Home",component:Me,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Tt},{path:"/signup",name:"Signup",component:xr},{path:"/createhouse",name:"CreateHouse",component:cr,meta:{requiresAuth:!0}},{path:"/project",name:"Project",component:ot,meta:{requiresAuth:!0}},{path:"/item",name:"Item",component:Rt,meta:{requiresAuth:!0}},{path:"/house",name:"House",component:fr,meta:{requiresAuth:!0}},{path:"/createproject",name:"CreateProject",component:function(){return Promise.resolve().then(r.bind(null,"59bc"))},meta:{requiresAuth:!0}},{path:"/createroom",name:"CreateRoom",component:function(){return Promise.resolve().then(r.bind(null,"b41b"))},meta:{requiresAuth:!0}}],_r=new F["a"]({mode:"history",base:"/",routes:br});_r.beforeEach((function(e,t,r){Xt.dispatch("SESSION/setLoggedInFromStorage");var n=Xt.getters["SESSION/getLoggedIn"];e.matched.some((function(e){return e.meta.requiresAuth}))?n?r():r({path:"/login",query:{redirect:e.fullPath}}):r()}));var Rr=_r;n["a"].config.productionTip=!1,new n["a"]({store:Xt,vuetify:V,router:Rr,render:function(e){return e(E)}}).$mount("#app")},"59bc":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("v-card",{staticClass:"mx-auto mt-2 px-1",attrs:{color:"base"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Lägg till projekt ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på projektet"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}}),r("v-text-field",{attrs:{label:"Beskrivning",rules:e.rules,placeholder:"Beskriv projektet"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-textarea",{attrs:{label:"Kategori",rules:e.rules,placeholder:"Välj kategori för projektet"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),void 0!==e.rooms?r("v-select",{attrs:{"prepend-icon":"mdi-home-city",items:e.rooms.map((function(e){return e})),"item-text":"roomName","item-value":"_id",placeholder:"Välj rum"},model:{value:e.selectedRoomId,callback:function(t){e.selectedRoomId=t},expression:"selectedRoomId"}}):e._e(),r("ImageUploader"),r("v-card-actions",[r("v-btn",{on:{click:e.createProjectHandler}},[e._v(" Skapa projekt ")]),r("v-spacer")],1)],1)],1)},o=[],a=(r("a4d3"),r("e01a"),r("96cf"),r("1da1")),i=r("324b"),s={name:"CreateProject",components:{ImageUploader:i["a"]},data:function(){return{projectName:"",imageId:"",description:"",category:"",selectedRoomId:void 0,rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}]}},methods:{createProjectHandler:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={projectName:e.projectName,imageId:e.$store.getters["IMAGE/getImage"]._id,description:e.description,roomId:e.selectedRoomId,category:e.category,itemsId:e.selectedItemId},t.next=3,e.$store.dispatch("ROOM/setRoom",e.room);case 3:return t.next=5,e.$store.dispatch("PROJECT/createProject",r);case 5:return t.next=7,e.$store.dispatch("ROOM/addProjectToRoom",e.$store.getters["PROJECT/getProject"]._id);case 7:if(0===e.$store.getters["ROOM/getRoom"].length){t.next=10;break}return t.next=10,e.$store.dispatch("ROOM/updateRoom",e.$store.getters["ROOM/getRoom"]);case 10:return t.next=12,e.$store.dispatch("ROOM/setRooms");case 12:return t.next=14,e.$store.dispatch("PROJECT/setProjects");case 14:e.$emit("close-dialog");case 15:case"end":return t.stop()}}),t)})))()}},computed:{items:function(){return this.$store.getters["ITEMS/getItems"]},room:function(){return void 0!==this.$store.getters["ROOM/getRoomFromRooms"](this.selectedRoomId)?this.$store.getters["ROOM/getRoomFromRooms"](this.selectedRoomId):[]},rooms:function(){return this.$store.getters["ROOM/getRooms"]}}},c=s,l=r("2877"),u=r("6544"),d=r.n(u),m=r("8336"),p=r("b0af"),f=r("99d9"),g=r("b974"),v=r("2fa4"),h=r("8654"),I=r("a844"),j=Object(l["a"])(c,n,o,!1,null,null,null);t["default"]=j.exports;d()(j,{VBtn:m["a"],VCard:p["a"],VCardActions:f["a"],VCardTitle:f["d"],VSelect:g["a"],VSpacer:v["a"],VTextField:h["a"],VTextarea:I["a"]})},"5ced":function(e,t,r){},6073:function(e,t,r){"use strict";r("1455")},6374:function(e,t,r){},7174:function(e,t,r){},ae50:function(e,t,r){"use strict";r("bf27")},b41b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("v-card",{staticClass:"mx-auto mt-2 px-1",attrs:{color:"base"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Lägg till rum ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på rummet"},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}}),r("v-text-field",{attrs:{label:"Storlek",rules:e.rules,placeholder:"Husets storlek i kvm"},model:{value:e.roomSize,callback:function(t){e.roomSize=t},expression:"roomSize"}}),r("v-textarea",{attrs:{label:"Höjd",rules:e.rules,placeholder:"Rummets höjd"},model:{value:e.roomHeight,callback:function(t){e.roomHeight=t},expression:"roomHeight"}}),r("v-card-actions",[r("v-btn",{on:{click:e.createRoomHandler}},[e._v(" Skapa rum ")]),r("v-spacer")],1)],1)],1)},o=[],a=(r("96cf"),r("1da1")),i={name:"CreateRoom",data:function(){return{roomName:"",roomSize:"",roomHeight:"",rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],dialog:!1}},methods:{createRoomHandler:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={roomName:e.roomName,roomSize:e.roomSize,roomHeight:e.roomHeight},t.next=3,e.$store.dispatch("ROOM/createRoom",r);case 3:return t.next=5,e.$store.dispatch("HOUSE/addRoomToHouse",e.$store.getters["ROOM/getRoom"]._id);case 5:return t.next=7,e.$store.dispatch("HOUSE/updateHouse",e.$store.getters["HOUSE/getHouse"]);case 7:return t.next=9,e.$store.dispatch("HOUSE/setHouseFromDb",e.$store.getters["HOUSE/getHouse"]._id);case 9:return t.next=11,e.$store.dispatch("HOUSE/setHouses");case 11:e.$emit("close-dialog"),e.dialog=!1;case 13:case"end":return t.stop()}}),t)})))()}}},s=i,c=r("2877"),l=r("6544"),u=r.n(l),d=r("8336"),m=r("b0af"),p=r("99d9"),f=r("2fa4"),g=r("8654"),v=r("a844"),h=Object(c["a"])(s,n,o,!1,null,null,null);t["default"]=h.exports;u()(h,{VBtn:d["a"],VCard:m["a"],VCardActions:p["a"],VCardTitle:p["d"],VSpacer:f["a"],VTextField:g["a"],VTextarea:v["a"]})},b581:function(e,t,r){e.exports=r.p+"img/todd-kent-178j8tJrNlc-unsplash.7061ca2d.jpg"},bf27:function(e,t,r){},cc64:function(e,t,r){"use strict";r("de80")},cccb:function(e,t,r){"use strict";r("5ced")},d53e:function(e,t,r){},de80:function(e,t,r){}});
//# sourceMappingURL=app.11a74d62.js.map